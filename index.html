<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Astuces Gaming & Tech</title>
<style>
body { font-family: Arial; background:#f4f4f4; margin:0; }
header { background:#ff4757; color:white; padding:20px; text-align:center; }
nav { display:flex; justify-content:center; gap:10px; background:white; padding:10px; }
nav button { border:none; padding:10px 16px; border-radius:20px; cursor:pointer; background:#eee; }
nav button.actif { background:#ff4757; color:white; }
.article { background:white; margin:10px auto; padding:15px; max-width:700px; border-radius:10px; cursor:pointer; }
iframe { width:100%; max-width:700px; height:400px; border:none; display:block; margin:20px auto; background:white; border-radius:10px; }
</style>
</head>

<body>
<header>
  <h1>Astuces Gaming & Tech</h1>
</header>

<nav>
  <button class="actif" onclick="filtrer('tout', this)">ðŸ“‚ Tout</button>
  <button onclick="filtrer('ordinateur', this)">ðŸ’» Ordinateur</button>
  <button onclick="filtrer('mobile', this)">ðŸ“± Mobile</button>
  <button onclick="filtrer('console', this)">ðŸŽ® Console</button>
</nav>

<div id="liste"></div>
<iframe id="lecteur"></iframe>

<script>
let articles = [];

fetch("articles.json")
  .then(r => r.json())
  .then(data => {
    articles = data;
    filtrer("tout", document.querySelector("nav button"));
  })
  .catch(err => console.error("Erreur chargement articles :", err));

function filtrer(cat, bouton) {
  document.querySelectorAll("nav button").forEach(b => b.classList.remove("actif"));
  bouton.classList.add("actif");

  const liste = document.getElementById("liste");
  liste.innerHTML = "";

  articles.forEach(a => {
    if (cat === "tout" || a.categorie === cat) {
      liste.innerHTML += `
        <div class="article" onclick="ouvrir('${a.fichier}')">
          <h3>${a.icone} ${a.titre}</h3>
        </div>
      `;
    }
  });
}

function ouvrir(fichier) {
  document.getElementById("lecteur").src = fichier;
}
</script>
</body>
</html>
