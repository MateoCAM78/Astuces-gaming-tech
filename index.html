<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Astuces Gaming & Tech</title>

<!-- Police Inter -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f4f4f4;
}

header {
  background: #ff4757;
  color: white;
  padding: 20px;
  text-align: center;
}

nav {
  display: flex;
  justify-content: center;
  gap: 10px;
  background: white;
  padding: 10px;
  position: sticky;
  top: 0;
}

nav button {
  border: none;
  padding: 10px 16px;
  border-radius: 20px;
  cursor: pointer;
  background: #eee;
  font-weight: 500;
}

nav button.actif {
  background: #ff4757;
  color: white;
}

.article {
  background: white;
  margin: 12px auto;
  padding: 15px;
  max-width: 700px;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.1s;
}

.article:hover {
  transform: scale(1.01);
}

iframe {
  width: 100%;
  max-width: 700px;
  height: 450px;
  border: none;
  display: block;
  margin: 20px auto;
  background: white;
  border-radius: 10px;
}

#retour {
  margin: 10px;
  padding: 5px 10px;
  border: none;
  border-radius: 5px;
  background: #ff4757;
  color: white;
  cursor: pointer;
  font-weight: 600;
}
</style>
</head>

<body>

<header>
  <h1>Astuces Gaming & Tech</h1>
  <p>Guides, astuces et tutos gaming & technologie</p>
</header>

<nav>
  <button class="actif" onclick="filtrer('tout', this)">üìÇ Tout</button>
  <button onclick="filtrer('ordinateur', this)">üíª Ordinateur</button>
  <button onclick="filtrer('mobile', this)">üì± Mobile</button>
  <button onclick="filtrer('console', this)">üéÆ Console</button>
</nav>

<!-- Liste des articles -->
<div id="liste"></div>

<!-- Lecteur iframe avec bouton retour -->
<div id="lecteur-container" style="display:none;">
  <button id="retour" onclick="retourArticles()">‚Üê Retour aux articles</button>
  <iframe id="lecteur"></iframe>
</div>

<script>
let articles = [];
let categorieActuelle = "tout";

// Charger les articles depuis articles.json
fetch("articles.json")
  .then(res => res.json())
  .then(data => {
    articles = data;
    afficherArticles();
  });

// Afficher la liste des articles filtr√©e
function afficherArticles() {
  const liste = document.getElementById("liste");
  liste.innerHTML = "";

  articles.forEach(a => {
    if (categorieActuelle === "tout" || a.categorie === categorieActuelle) {
      const div = document.createElement("div");
      div.className = "article";
      div.innerHTML = `<h3>${a.icone} ${a.titre}</h3>`;
      div.onclick = () => ouvrir(a.fichier);
      liste.appendChild(div);
    }
  });
}

// Filtrer les articles par cat√©gorie
function filtrer(cat, bouton) {
  categorieActuelle = cat;
  document.querySelectorAll("nav button").forEach(b => b.classList.remove("actif"));
  bouton.classList.add("actif");
  afficherArticles();
}

// Ouvrir un article en grand
function ouvrir(fichier) {
  document.getElementById("liste").style.display = "none";
  document.getElementById("lecteur-container").style.display = "block";
  document.getElementById("lecteur").src = fichier;
}

// Retour √† la liste des articles
function retourArticles() {
  document.getElementById("lecteur").src = "";
  document.getElementById("lecteur-container").style.display = "none";
  document.getElementById("liste").style.display = "block";
}
</script>

</body>
</html>
